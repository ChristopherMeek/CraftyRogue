// Generated by CoffeeScript 1.6.1
(function() {

  define(['crafty', 'tile', 'wall', 'settings'], function(crafty, tile, wall, settings) {
    return {
      width: function() {
        return settings.grid.width * settings.grid.tile.width;
      },
      height: function() {
        return (settings.grid.height * settings.grid.tile.height) + settings.grid.tile.topPadding + settings.grid.tile.bottomPadding;
      },
      make_wall: function(x, y) {
        return crafty.e('Wall').at(x, y);
      },
      at_edge: function(x, y) {
        return x === 0 || y === 0 || x === settings.grid.width - 1 || y === settings.grid.height - 1;
      },
      start: function() {
        var x, y, _i, _j, _ref, _ref1;
        console.log(this.height());
        crafty.init(this.width(), this.height());
        crafty.background('rgb(80, 80, 80)');
        for (x = _i = 0, _ref = settings.grid.width - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; x = 0 <= _ref ? ++_i : --_i) {
          for (y = _j = 0, _ref1 = settings.grid.height - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; y = 0 <= _ref1 ? ++_j : --_j) {
            if (this.at_edge(x, y)) {
              this.make_wall(x, y);
            }
          }
        }
        return null;
      }
    };
  });

}).call(this);
